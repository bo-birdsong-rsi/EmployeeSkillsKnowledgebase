var app=angular.module("eskApp",[]);app.controller("userController",function(c,b){b.get("ESK/jersey/user/list").success(function(a){c.users=a})});"use strict";angular.module("app","ngRoute ngMessages ngAria xeditable app.constants app.directives app.controllers app.services".split(" "));"use strict";
angular.module("app").config(["$routeProvider","$httpProvider","$locationProvider",function(c,b,a){a.html5Mode(!0);c.when("/main",{title:"Main",templateUrl:"html/partials/view/main.html"}).when("/customer/search",{title:"Customer Search",controller:"CustomerController",templateUrl:"html/partials/view/customer_search.html",resolve:{user:["$rootScope","userService","storageService","storageConstant",function(a,b,c,f){var g=c.getSessionItem(f.USER);null===g||void 0===g?b.retrieve().then(function(b){c.setSessionItem(f.USER,
b);a.user=b}):a.user=g}]}}).when("/login",{title:"Login",templateUrl:"html/partials/view/login.html",controller:"LoginController",resolve:{clear:["$rootScope","storageService","storageConstant",function(b,a,c){a.removeSessionItem(c.USER);delete b.user}]}}).otherwise({redirectTo:"/main"});b.interceptors.push(function(b,a,c,f,g){return{request:function(b){c.clearError();var a=f.getSessionItem(g.AUTH_TOKEN);a&&(b.headers["X-AUTH-TOKEN"]=a);return b},response:function(b){return b},responseError:function(f){switch(f.status){case 400:break;
case 401:case 403:a.path("/login");break;case 500:break;default:c.error("UNKNOWN_ERROR","An error has occurred, please try again.")}return b.reject(f)}}})}]);"use strict";angular.module("app.constants",[]);"use strict";angular.module("app.controllers",["app.services"]);"use strict";angular.module("app.directives",["app.services"]);"use strict";
angular.module("app").run(["$rootScope","$http","$location","titleService",function(c,b,a,d){c.navigateTo="/main";c.$on("$routeChangeSuccess",function(b,h,f){d.changeTitle();-1==a.path().indexOf("/login")&&(c.navigateTo=a.path())})}]);"use strict";angular.module("app.services",["app.constants"]);"use strict";angular.module("app.constants").constant("propertiesConstant",{API_URL:"/api"});"use strict";angular.module("app.constants").constant("storageConstant",{USER:"user",AUTH_TOKEN:"authToken"});"use strict";
angular.module("app.controllers").controller("CustomerController",["$rootScope","$scope","customerService","messageService",function(c,b,a,d){a.getCustomers().then(function(a){b.customers=a},function(){d.error("CUSTOMERS_GET_FAILURE","Oooooops something went wrong, please try again")});b.remove=function(c){a.deleteCustomer(c).then(function(a){a&&angular.forEach(b.customers,function(a,d){c==a.id&&b.customers.splice(d,1)})},function(){d.error("CUSTOMER_DELETE_FAILURE","Oooooops something went wrong, please try again")})};
b.save=function(c){angular.forEach(b.customers,function(b){c==b.id&&a.saveCustomer(b).then(function(b){})},function(){d.error("CUSTOMER_SAVE_FAILURE","Oooooops something went wrong, please try again")})}}]);"use strict";angular.module("app.controllers").controller("LoginController",["$location","$rootScope","$scope","authenticationService","messageService",function(c,b,a,d,e){a.login=function(a){d.login(a).then(function(){c.path(b.navigateTo)}).catch(function(){e.error("LOGIN_FAILURE","We were unable to log you in, please try again.")})}}]);
"use strict";angular.module("app.controllers").controller("MenuController",["$location","$scope","authenticationService","messageService",function(c,b,a,d){b.logout=function(){a.logout().then(function(){c.path("/logout")}).catch(function(){d.error("LOGOUT_FAILURE","We were unable to log you out, please try again.")})}}]);"use strict";angular.module("app.directives").directive("exampleFocus",function(c){return{scope:{trigger:"@exampleFocus"},link:function(b,a){b.$watch("trigger",function(){c(function(){a[0].focus()})})}}});
"use strict";
angular.module("app.services").service("authenticationService",["$http","$q","base64Service","storageService","storageConstant","propertiesConstant",function(c,b,a,d,e,h){this.login=function(f){var g=b.defer();c.defaults.headers.common.Authorization="Basic "+a.encode(f.email+":"+f.password);c.post(h.API_URL+"/auth/login",null).success(function(a,b,f,h){d.setSessionItem(e.AUTH_TOKEN,f("X-AUTH-TOKEN"));delete c.defaults.headers.common.Authorization;g.resolve()}).error(function(){g.reject()});return g.promise};
this.logout=function(){var a=b.defer();c.post(h.API_URL+"/auth/logout",null).success(function(){d.removeSessionItem(e.AUTH_TOKEN);d.removeSessionItem(e.USER);a.resolve()}).error(function(){a.reject()});return a.promise}}]);"use strict";
angular.module("app.services").service("base64Service",function(){this.encode=function(c){for(var b="",a,d,e="",h,f,g="",k=0;k<c.length;)a=c.charCodeAt(k++),d=c.charCodeAt(k++),e=c.charCodeAt(k++),h=a>>2,a=(a&3)<<4|d>>4,f=(d&15)<<2|e>>6,g=e&63,isNaN(d)?f=g=64:isNaN(e)&&(g=64),b=b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(f)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(g);return b};this.decode=function(c){var b="",a,d,e="",h,f="",g=0;for(c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");g<c.length;)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(c.charAt(g++)),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(c.charAt(g++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(c.charAt(g++)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(c.charAt(g++)),
a=a<<2|d>>4,d=(d&15)<<4|h>>2,e=(h&3)<<6|f,b+=String.fromCharCode(a),64!=h&&(b+=String.fromCharCode(d)),64!=f&&(b+=String.fromCharCode(e))}});"use strict";
angular.module("app.services").service("customerService",["$http","$q","propertiesConstant",function(c,b,a){this.getCustomers=function(){var d=b.defer();c.get(a.API_URL+"/customer/customers/retrieve").success(function(a){d.resolve(a)}).error(function(){d.reject()});return d.promise};this.deleteCustomer=function(d){var e=b.defer();c.delete(a.API_URL+"/customer/delete/"+d).success(function(a){e.resolve(a)}).error(function(){e.reject()});return e.promise};this.saveCustomer=function(d){var e=b.defer();
c.post(a.API_URL+"/customer/save",d).success(function(a){e.resolve(a)}).error(function(){e.reject()});return e.promise}}]);"use strict";angular.module("app.services").service("messageService",["$rootScope",function(c){c.errors=[];c.alerts=[];this.error=function(b,a){c.errors.push({code:b,message:a})};this.info=function(b,a){c.alerts.push({code:b,message:a})};this.clearError=function(){c.errors=[]};this.clearInfo=function(){c.alerts=[]}}]);"use strict";
angular.module("app.services").service("storageService",["$rootScope","$window",function(c,b){this.getLocalItem=function(a){return JSON.parse(b.localStorage.getItem(a))};this.setLocalItem=function(a,c){b.localStorage.setItem(a,JSON.stringify(c))};this.removeLocalItem=function(a){b.localStorage.removeItem(a)};this.getSessionItem=function(a){return JSON.parse(b.sessionStorage.getItem(a))};this.setSessionItem=function(a,c){b.sessionStorage.setItem(a,JSON.stringify(c))};this.removeSessionItem=function(a){b.sessionStorage.removeItem(a)}}]);
"use strict";angular.module("app.services").service("titleService",["$route","$window",function(c,b){var a=b.document.title;this.changeTitle=function(){b.document.title=a+" - "+c.current.title}}]);"use strict";angular.module("app.services").service("userService",["$http","$q","propertiesConstant",function(c,b,a){this.retrieve=function(){var d=b.defer();c.get(a.API_URL+"/user/retrieve").success(function(a){d.resolve(a)}).error(function(){d.reject()});return d.promise}}]);