<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<f:view>
	<head>

<title>Save Users</title>
<link rel="stylesheet"
	href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css" />
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
<script>
	$(function() {
		$("#form\\:birthDate").datepicker();
	});
</script>
	</head>
	<h:body>
		<table>
			<tr>
				<td><a href="index.xhtml">Home Page</a></td>
				<td><a href="listUsers.xhtml">List Users</a></td>
				<td><a href="saveUsers.xhtml">Save Users</a></td>
			</tr>
		</table>

		<h:form id="form">

			<table>
				<tr>
					<td><h:outputText value="First Name: " /></td>
					<td><h:inputText id="username"
							value="#{saveUserController.username}" /></td>
				</tr>
				<tr>
					<td><h:outputText value="Last Name: " /></td>
					<td><h:inputText id="surname"
							value="#{saveUserController.surname}" /></td>
				</tr>
				<tr>
					<td><h:outputText value="Sex: " /></td>
					<td><h:selectOneRadio id="sex"
							value="#{saveUserController.sex}" layout="pageDirection">
							<f:selectItem itemValue="M" itemLabel="Male" />
							<f:selectItem itemValue="F" itemLabel="Female" />
						</h:selectOneRadio></td>
				</tr>
				<tr>
					<td><h:outputText value="Birth Date: " /></td>
					<td><h:inputText id="birthDate"
							value="#{saveUserController.birthDate}">
							<f:convertDateTime pattern="mm/dd/yyyy" />
						</h:inputText></td>

				</tr>
				<tr>
					<h:panelGrid>
						<ui:repeat value="#{saveUserController.phones}" var="phone">
							<h:inputText value="#{phone.number}" />
							<h:selectOneMenu value="#{phone.phoneType}">
								<f:selectItems value="#{saveUserController.phoneTypes}" />
								<f:converter binding="#{phoneTypeConverter}" />
							</h:selectOneMenu>
							<br />
						</ui:repeat>
					</h:panelGrid>
				</tr>
				<tr>
					<td><h:commandButton value="Extend">
							<f:ajax listener="#{saveUserController.extendPhones}"
								process="@form" render="@form" />
						</h:commandButton></td>
				</tr>
				<tr>
					<td><h:commandButton value="Save User"
							action="#{saveUserController.getSaveMessage}">

						</h:commandButton></td>
				</tr>
				<tr>
					<td></td>
				</tr>
			</table>



		</h:form>
		<h:messages />
	</h:body>
</f:view>
</html>